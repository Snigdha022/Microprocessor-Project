DSEG    SEGMENT 'DATA' 
     
        ARRAYS DB  00111111B ,01000001B,01000001B,00100001B, 00000000B,00000000B,01000001B,01111111B,01000001B,00000000B,00000110B,00001001B, 00001001B, 01111111B,00000000B, 00110010B, 01001001B, 01001001B,00100110B, 00000000B,00110010B, 01001001B, 01001001B,00100110B,00000000B, 00111111B,01000001B, 01000001B, 00100001B, 00000000B, 01111110B, 00001001B, 00001001B, 01111110B, 00000000B, 01111111B,00001000B, 00001000B, 01111111B,00000000B  
        
        TWO_SEG DB 00000001B, 00000011B, 01000011B, 01010011B, 01011011B, 01011011B
        THREE_SEG DB 00000001B, 00000011B, 01000011B, 01000111B, 01001111B  
        I_DOT DB 00000001B, 00000001B,00000001B,00000011B,00000111B,00001111B,00011111B,00111111B,01000001B,01111111B,01000001B
        J_DOT DB 00000001B,00000001B,00000001B,00000001B,00000011B, 00000111B,00001111B ,00011111B,00111111B, 01000001B,01000001B,00100001B
        FIVE_SS DB 01H,21H,61H,65H,6DH
        CON DB 0 
        
DSEG    ENDS

SSEG    SEGMENT STACK   'STACK'
        DW      100h    DUP(?)
SSEG    ENDS

CSEG    SEGMENT 'CODE'

START   PROC    FAR

 	PUSH    DS
 	MOV     AX, 0
 	PUSH    AX


	MOV     AX, DSEG
 	MOV     DS, AX
 	MOV     ES, AX
 	
 	MOV CX, 0
 	MOV DI, 0
MAINLOOP:
    
    MOV DX, 2070H
    MOV AX, 00000100B
    OUT DX, AX 
    
    
 	 
 	MOV BX, 00000010B
    MOV SI, 0
    MOV AL, 00000010B
    MOV AX, 00000010B
 	
LOOP1:
 	MOV DX, 2001H
 	OUT DX, AX
 	
 	MUL BX
 	ADD AX,BX
 	INC SI
 	
 	CMP SI, 6
 	JL LOOP1
 	MOV DX, 2001H
 	MOV AX, 01111111B
 	OUT DX, AX
    
    MOV SI, 0 
    
    
   
 LOOP2:  
    MOV DX, 2030H
 	MOV AL, THREE_SEG[SI]
 	OUT DX,AL   
 	
 	INC SI
 	
 	CMP SI,5
 	JL LOOP2
 	
 	MOV DX, 2002H
 	MOV AX, 00001000B
 	OUT DX, AX  
 	MOV DX, 2003H
 	MOV AX, 00001000B
 	OUT DX, AX   
 	
 	
 	 
 	MOV BX, 00000010B
    MOV SI, 0
    MOV AL, 00000010B
    MOV AX, 00000010B
 	
LOOP3:
 	MOV DX, 2004H
 	OUT DX, AX
 	
 	MUL BX
 	ADD AX,BX
 	INC SI
 	
 	CMP SI, 6
 	JL LOOP3 
 	MOV DX, 2004H
 	MOV AX, 01111111B
 	OUT DX, AX
    
 	MOV CX,01DH
 	L1:LOOP L1  
 	
 	MOV BX, 00000010B
    MOV SI, 0
    MOV AL, 00000010B
    MOV AX, 00000010B
 	
LOOP4:
 	MOV DX, 2006H
 	OUT DX, AX
 	
 	MUL BX
 	ADD AX,BX
 	INC SI
 	
 	CMP SI, 6
 	JL LOOP4
 	MOV DX, 2031H
 	MOV AL, 00000010B
 	OUT DX, AL
 	MOV CX,01DH
 	L2:LOOP L2 
 	
 	MOV DX, 2007H
 	MOV AX, 00000001B
 	OUT DX, AX
 	
 	MOV DX, 2007H
 	MOV AX, 00001001B
 	OUT DX, AX
 	MOV DX, 2031H
 	MOV AL, 00000110B
 	OUT DX, AL 
 	MOV CX,01DH
 	L3:LOOP L3
 	MOV DX, 2008H
 	MOV AX, 00000001B
 	OUT DX, AX
 	
 	MOV DX, 2008H
 	MOV AX, 00001001B
 	OUT DX, AX 
 	
 	MOV BX, 00000010B
    MOV SI, 0
    MOV AL, 00000010B
    MOV AX, 00000010B
    
LOOP5:
 	MOV DX, 2009H
 	OUT DX, AX
 	MUL BX
 	ADD AX,BX
 	INC SI
 	
 	CMP SI, 6
 	JL LOOP5 
 	MOV CX,01DH
 	L4:LOOP L4 
 	
 	MOV DX, 2070H
    MOV AX, 00001100B
    OUT DX, AX 
 	
 	MOV DX, 200BH
 	MOV AX, 00000001B
 	OUT DX, AX  
 	MOV DX, 200BH
 	MOV AX, 00100001B
 	OUT DX, AX
 	
 	MOV DX, 200CH
 	MOV AX, 00000001B
 	OUT DX, AX     
    MOV DX, 200CH
 	MOV AX, 01000001B
 	OUT DX, AX 
 	MOV SI, 0 
    
   
 LOOP6:  
    MOV DX, 2032H
 	MOV AL, THREE_SEG[SI]
 	OUT DX,AL   
 	
 	INC SI
 	
 	CMP SI,5
 	JL LOOP6    
 	
 	MOV DX, 200DH
 	MOV AX, 00000001B
 	OUT DX, AX     
    MOV DX, 200DH
 	MOV AX, 01000001B
 	OUT DX, AX
 	
 	
 	MOV BX, 00000010B
    MOV SI, 0
    MOV CH, 0
    MOV AL, 00000010B
    MOV AX, 00000010B
    
LOOP7:
 	MOV DX, 200EH
 	OUT DX, AX
 	MUL BX
 	ADD AX,BX
 	INC SI
 	
 	CMP SI, 5
 	JL LOOP7
 	MOV DX, 200EH
 	MOV AX, 00111111B
 	OUT DX, AX 
 	MOV CX,01DH
 	L5:LOOP L5 
 	MOV DX, 2010H
 	MOV AX, 00000010B
 	OUT DX, AX   
 	MOV DX, 2010H
 	MOV AX, 00000110B
 	OUT DX, AX 
 	MOV DX, 2010H
 	MOV AX, 00100110B
 	OUT DX, AX       
 	MOV DX, 2011H
 	MOV AX, 00000001B
 	OUT DX, AX   
 	MOV DX, 2011H
 	MOV AX, 00001001B
 	OUT DX, AX 
 	MOV DX, 2011H
 	MOV AX, 01001001B
 	OUT DX, AX
 	MOV SI, 0 
    
   
 LOOP8:  
    MOV DX, 2033H
 	MOV AL, TWO_SEG[SI]
 	OUT DX,AL   
 	
 	INC SI
 	
 	CMP SI,6
 	JL LOOP8          
 	MOV DX, 2012H
 	MOV AX, 00000001B
 	OUT DX, AX   
 	MOV DX, 2012H
 	MOV AX, 00001001B
 	OUT DX, AX 
 	MOV DX, 2012H
 	MOV AX, 01001001B
 	OUT DX, AX  
 	MOV DX, 2013H
 	MOV AX, 00000010B
 	OUT DX, AX   
 	MOV DX, 2013H
 	MOV AX, 00010010B
 	OUT DX, AX 
 	MOV DX, 2013H
 	MOV AX, 00110010B
 	OUT DX, AX    
    MOV CX,01DH
 	L6:LOOP L6
 	
 	
 	MOV DX, 2070H
    MOV AX, 00001110B
    OUT DX, AX  
 	MOV DX, 2015H
 	MOV AX, 00000010B
 	OUT DX, AX   
 	MOV DX, 2015H
 	MOV AX, 00000110B
 	OUT DX, AX 
 	MOV DX, 2015H
 	MOV AX, 00100110B
 	OUT DX, AX       
 	MOV DX, 2016H
 	MOV AX, 00000001B
 	OUT DX, AX   
 	MOV DX, 2016H
 	MOV AX, 00001001B
 	OUT DX, AX 
 	MOV DX, 2016H
 	MOV AX, 01001001B
 	OUT DX, AX
 	MOV SI, 0 
    
   
 LOOP9:  
    MOV DX, 2034H
 	MOV AL, THREE_SEG[SI]
 	OUT DX,AL   
 	
 	INC SI
 	
 	CMP SI,5
 	JL LOOP9         
 	MOV DX, 2017H
 	MOV AX, 00000001B
 	OUT DX, AX   
 	MOV DX, 2017H
 	MOV AX, 00001001B
 	OUT DX, AX 
 	MOV DX, 2017H
 	MOV AX, 01001001B
 	OUT DX, AX  
 	MOV DX, 2018H
 	MOV AX, 00000010B
 	OUT DX, AX   
 	MOV DX, 2018H
 	MOV AX, 00010010B
 	OUT DX, AX 
 	MOV DX, 2018H
 	MOV AX, 00110010B
 	OUT DX, AX  
 	MOV CX,01DH
 	L7:LOOP L7  
 	
 	 
 	
 	MOV BX, 00000010B
    MOV SI, 0
    MOV CH, 0
    MOV AL, 00000010B
    MOV AX, 00000010B
    
LOOP10:
 	MOV DX, 201AH
 	OUT DX, AX
 	MUL BX
 	ADD AX,BX
 	INC SI
 	
 	CMP SI, 6
 	JL LOOP10
 	MOV DX, 201AH
 	MOV AX, 01111111B
 	OUT DX, AX
 	
 	MOV DX, 201BH
 	MOV AX, 00000001B
 	OUT DX, AX  
 	
 	MOV DX, 201BH
 	MOV AX, 00001001B
 	OUT DX, AX 
 	MOV SI, 0 
    
   
 LOOP11:  
    MOV DX, 2035H
 	MOV AL, THREE_SEG[SI]
 	OUT DX,AL   
 	
 	INC SI
 	
 	CMP SI,5
 	JL LOOP11  
 	MOV DX, 201CH
 	MOV AX, 00000001B
 	OUT DX, AX  
 	
 	MOV DX, 201CH
 	MOV AX, 00001001B
 	OUT DX, AX 
 	MOV SI, 0 
 	
 	
 	MOV DX, 201DH
 	MOV AX, 00000010B
 	OUT DX, AX  
 	
 	MOV DX, 201DH
 	MOV AX, 00000110B
 	OUT DX, AX
 	
 	 
 	MOV SI, 0
 	MOV CX,01DH
 	L8:LOOP L8 
 	
 	MOV DX, 2070H
    MOV AX, 00001111B
    OUT DX, AX
    
        
    MOV SI,0  
    MOV DX,201FH
LOOPI1: 
    MOV AL,I_DOT[SI]
    OUT DX,AL 
    CALL DELAY
    INC DX  
    INC SI   
    MOV AL,I_DOT[SI]
    CMP DX,2022H
    JL LOOPI1 
    
    MOV SI,3  
    MOV DX,2020H 
    
LOOPI2:
    MOV AL,I_DOT[SI]  
    OUT DX,AL     
    CALL DELAY
    INC SI
    CMP SI,8
    JL  LOOPI2 
    
    MOV SI,8 
    MOV DX,201FH
    
LOOPI3:
    MOV AL,I_DOT[SI]
    OUT DX,AL 
    CALL DELAY
    INC DX
    INC SI
    CMP DX,2022H
    JL LOOPI3
 	
 	MOV SI, 0 
    
LOOP13:  
    MOV DX, 2036H
 	MOV AL, THREE_SEG[SI]
 	OUT DX,AL
 	CALL DELAY   
 	INC SI
 	CMP SI,5
 	JL LOOP13 
 	
 	MOV SI,0
    MOV DX,2024H   
 	
LOOPJ1:       
    MOV AL,J_DOT[SI]
    OUT DX,AL 
    CALL DELAY  
    INC DX
    INC SI
    CMP DX,2028H
    JL LOOPJ1
    
    MOV SI,4
    MOV DX,2027H

LOOPJ2:
    MOV AL,J_DOT[SI]
    OUT DX,AL 
    CALL DELAY 
    INC SI
    CMP SI,9
    JL LOOPJ2
 	 
 	MOV SI,9
    MOV DX,2026H
    
LOOPJ3:
    MOV AL,J_DOT[SI]
    OUT DX,AL 
    CALL DELAY
    INC SI
    DEC DX
    CMP DX,2024H
    JG LOOPJ3
    
    MOV DX,2024H
    MOV SI,11  
    MOV AL,J_DOT[SI]
    OUT DX,AL 
    CALL DELAY 
    
    MOV SI,0

LOOP5SS:
    MOV DX, 2037H 
    MOV AL, FIVE_SS[SI]
    OUT DX,AL
    CALL DELAY
    INC SI
    CMP SI,5
    JL LOOP5SS
 	
 	MOV CON, 0 
    MOV SI, 40
REPEAT:
    
    MOV DX, 2027H
    MOV CX, 40 
    DEC SI
    
    INC CON
    CMP CON, 41
    JAE CLEAR0
        
SCROLL: 
        
    MOV AL, ARRAYS[SI]
    OUT DX, AL   
    
    INC SI
    DEC DX 
    
    CMP DX, 1FFFH
    JBE REPEAT
    
    CMP SI, 40
    JAE NEXT3 
    LOOP SCROLL      
          
NEXT3:
    MOV SI, 0
    LOOP SCROLL
 	
    
CLEAR0:  
   MOV CX, 04FH
    L10: LOOP L10
    
    MOV DX, 2070H	 
    MOV Al, 00000000B 
    OUT DX, AL
   
    MOV DX,2000H
    MOV CX,0
CLEAR1:
    MOV AL,00000000B
    OUT DX,AL
    INC CX
    INC DX
   
    CMP CX, 40
    JLE CLEAR1 
     MOV CX, 04FH
    L11: LOOP L11
    
    MOV SI,0
    MOV DX, 2030H
    
CLEAR2:
    MOV AL, 00000000B
    OUT DX, AL
    INC SI
    INC DX
    
    CMP SI,8
    JLE CLEAR2

    MOV CX,0
    INC DI
    CMP DI,5
    JL MAINLOOP

	RET
START   ENDP     
DELAY PROC
    MOV CL,0FH
    L:LOOP L
    RET
    
    DELAY ENDP 

CSEG    ENDS 

END    START 
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	
 	            
 	
 	           
 	
    
 	




